version: '3'
services:
  ethereum:
    image: ethereum/client-go:v1.11.6
    ports:
      - '8545:8545'
      - '30303:30303'
    entrypoint: ['sh', '-c']
    command:
      [
        'mkdir -p $HOME/.geth-dev/keystore; echo ''testtesttest'' > $HOME/.geth-dev/password ;echo ''{"address":"f39fd6e51aad88f6f4ce6ab8827279cfffb92266","crypto":{"cipher":"aes-128-ctr","ciphertext":"a5982ef69eb74b9e2983682f4e9ee5e319e5ad34490896ee495e34bad72a8357","cipherparams":{"iv":"c2ca22a6fac1d3ab309d1e7e482409a5"},"kdf":"scrypt","kdfparams":{"dklen":32,"n":262144,"p":1,"r":8,"salt":"53b601aff894a272fe60ae729229400462f9027ac665ed8dd08634f130413c01"},"mac":"35c6a45bee206fe273cf4a5edb5aa374d3373176090995119250a1d961d3ae34"},"id":"beff5fef-c7bd-4c32-97ce-133018c4d5d7","version":3}'' > $HOME/.geth-dev/keystore/UTC--2023-05-04T10-27-54.443489969Z--f39fd6e51aad88f6f4ce6ab8827279cfffb92266; echo ''{"config": {"chainId": 31337,"homesteadBlock": 0,"eip150Block": 0,"eip155Block": 0,"eip158Block": 0,"byzantiumBlock": 0,"constantinopleBlock": 0,"petersburgBlock": 0,"istanbulBlock": 0,"berlinBlock": 0,"londonBlock": 0,"parisBlock": 0,"clique": {"period": 5,"epoch": 30000}},"difficulty": "1","gasLimit": "8000000","extradata": "0x0000000000000000000000000000000000000000000000000000000000000000f39Fd6e51aad88F6F4ce6aB8827279cffFb922660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","alloc": {"f39Fd6e51aad88F6F4ce6aB8827279cffFb92266": { "balance": "100000000000000000000" },"0x70997970C51812dc3A010C7d01b50e0d17dc79C8": { "balance": "1000000000000000000" },"3C44CdDdB6a900fa2b585dd299e03d12FA4293BC": { "balance": "1000000000000000000" },"0x90F79bf6EB2c4f870365E785982E1f101E93b906": { "balance": "1000000000000000000" },"0x15d34AAf54267DB7D7c367839AAf71A00a2C6A65": { "balance": "1000000000000000000" },"0x9965507D1a55bcC2695C58ba16FB37d819B0A4dc": { "balance": "1000000000000000000" },"0x976EA74026E726554dB657fA54763abd0C3a0aa9": { "balance": "1000000000000000000" },"0x14dC79964da2C08b23698B3D3cc7Ca32193d9955": { "balance": "1000000000000000000" },"0x23618e81E3f5cdF7f54C3d65f7FBc0aBf5B21E8f": { "balance": "1000000000000000000" },"0xa0Ee7A142d267C1f36714E4a8F75612F20a79720": { "balance": "1000000000000000000" }}}'' > $HOME/.geth-dev/genesis.json; geth --datadir $HOME/.geth-dev init $HOME/.geth-dev/genesis.json; geth --dev --nousb --ws --ws.addr "0.0.0.0" --ws.origins "*" --http --http.vhosts "*" --http.addr "0.0.0.0" --http.corsdomain "*" --miner.gasprice 1000000000 --dev.period ${BLOCK_TIME:-5} --rpc.allow-unprotected-txs --datadir $HOME/.geth-dev --password $HOME/.geth-dev/password',
      ]
